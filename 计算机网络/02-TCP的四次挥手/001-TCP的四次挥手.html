<!DOCTYPE html>
<html>
  <head>
    <title>DEMO</title>
  </head>
  <body>
    <div id="container"> 
    </div>
    
    <script>
    console.log('*******************************')
    /**
      说明:
      seq: 序号
      ack: 确认序号
      FIN: 表示告知对方端本段要关闭连接了
      ACK: 确认序号有效

      第一次挥手: (FIN=1, seq=1000),发送完毕后,客户端进入FIN_WAIT_1状态;
      第二次挥手:(ACK=1, ack=1001, seq=2000)发送完毕后,服务器进入CLOSE_WAIT状态,
      客户端收到这个确认包以后,进入到FIN_WAIT_2状态;
      第三次挥手:(FIN=1, ACK=1, seq=3000, ack=1001),发送完毕,服务器段进入LAST_ACK状态,
      等待来自客户端的最后一个ACK;
      第四次挥手:(ACK=1, seq=1001,ack=3001)客户端收到来自服务器段的关闭请求,并进入TIME_WAIT状态;
      等待了某个固定事件(两个最大段生命周期)之后,没有收到服务器端的ACK,认为服务器端已经正常关闭连接,
      于是自己也关闭连接,进入CLOSED状态,服务器端收到这个确认包之后,关闭连接,进入到CLOSED状态;

      2MSL:  2 Maximum Segment Lifetime两个最大段生命周期
      1个MSL保证四次挥手中中主动关闭方最后的ACK报文最终能到达对端;
      1个MSL保证对端没有收到ACK那么进行重传的FIN报纸文能够到达;

      TCP使用四次挥手的原因
      1、TCP的连接是全双工的，具有半关闭(half-close)的特性;
      2、需要双方分别释放到对方的连接，单独一方的连接释放，只代表不能再向对方发送数据，连接处于的是半释放的状态。
      3、确保数据的完整性
      4、服务器收到客户端的FIN报文通知,表示没有传输数据.但服务器不会马上关闭,直到全部数据发送完毕,才告诉浏览器可以关闭了.



     */
    </script>
  </body>
</html>
